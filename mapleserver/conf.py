from util import *

# todo: move all this into an xml file or something

exp_table = [
    10, 20, 30, 40, 50, 60, 70, 80, 90, 100,    # 1-10
    200, 225, 250, 275, 300,                    # 11-15
    300, 330, 360, 390, 420,                    # 16-20
    500, 510, 520, 530, 540, 550, 560, 570,     # 21-40
    580, 590, 600, 610, 620, 630, 640, 650,
    660, 670, 680, 690,
    1000, 1050, 1100, 1150, 1200, 1250, 1300,   # 41-60
    1350, 1400, 1450, 1500, 1550, 1600, 1650,
    1700, 1750, 1800, 1850, 1900, 1950,
    2500, 2600, 2700, 2800, 2900, 3000, 3100,   # 61-70
    3200, 3300, 3400
]

world = adict({
    'id': 0, 'name': 'Scania',
    'channels': [{'name': 'Scania-1', 'population': 0}],
})

default_keymap = [
    0, 0, 2564, 3076, 3332, 4612, 5380, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2052, 1284,
    4, 1028, 0, 0, 0, 260, 0, 4868, 3588, 3844, 0, 13317, 0, 516, 0, 0, 3456,
    2820, 0, 772, 0, 5124, 4100, 0, 0, 2308, 12805, 13061, 1540, 0, 0, 0, 1796,
    0, 0, 0, 0, 0, 13573, 0, 0, 25606, 25862, 26118, 26374, 26630, 26886, 27142,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
]

bandit_equips = {
    1: [1040002, 1060002, 1072001, 1302000],
    5: [1332005, 1002067, 1092003],
    8: [1332007],
    10: [1040033, 1060023, 1002125, 1072071, 1092008, 1332063],
    12: [1332000],
    15: [1332006, 1082031, 1060024, 1040034, 1072028, 1002110],
    17: [1332002],
    20: [1082034, 1060033, 1040044, 1072022, 1002130, 1092030],
    22: [1332013, 1092018],
    25: [1082039, 1060039, 1040050, 1072087, 1002150],
    27: [1332004],
    30: [1332012, 1082042, 1060046, 1040060, 1072033, 1002175],
    32: [1332001],
    35: [1332020, 1082046, 1060052, 1040063, 1002180],
    40: [1332031, 1082074, 1060073, 1040084, 1072109, 1002185],
    43: [1332025],
    50: [1332003, 1082066, 1060085, 1040096, 1002210, 1072171],
    53: [1332029],
    60: [1332015, 1082093, 1060089, 1040100, 1002249],
    64: [1332055, 1092047],
    65: [1072152],
    70: [1082096],
}

jobs = {
    1: 0,
    10: 400,
    30: 420,
    70: 421
}

hunting_maps = {
    1:  50000,
    10: 100040001,
    15: 104010001,
    20: 105050000,
    35: 100040102,
    50: 211010000,
    55: 211020000,
    60: 211030000,
    65: 105090301,
}

skill_build = {
    10: {4001334: 1},
    11: {4001334: 3},
    12: {4001334: 3},
    13: {4001334: 3},
    14: {4001334: 3},
    15: {4001334: 3},
    16: {4001334: 3},
    17: {4001334: 1, 4000000: 2},
    18: {4000000: 3},
    19: {4000000: 3},
    20: {4000000: 3},
    21: {4000000: 3},
    22: {4000000: 3},
    23: {4000000: 3},
    24: {4000000: 3},
    25: {4001002: 3},
    26: {4001003: 3},
    27: {4001003: 3},
    28: {4001003: 3},
    29: {4001003: 3},
    30: {4001003: 3, 4200000: 1},
    31: {4200000: 3},
    32: {4200000: 3},
    33: {4200000: 3},
    34: {4201005: 3},
    35: {4201005: 3},
    36: {4201005: 3},
    37: {4201005: 3},
    38: {4201005: 3},
    39: {4201005: 3},
    40: {4201005: 3},
    41: {4201005: 3},
    42: {4201005: 3},
    43: {4201005: 2, 4200000: 1},
    44: {4200000: 3},
    45: {4200000: 3},
    46: {4200000: 3},
    47: {4201002: 3},
    48: {4201002: 3},
    49: {4201002: 3},
    50: {4201003: 3},
    51: {4201003: 3},
    52: {4201003: 3},
    53: {4201003: 3},
    54: {4201003: 3},
    55: {4201003: 3},
    56: {4201003: 2, 4201002: 1},
    57: {4201002: 3},
    58: {4201002: 3},
    59: {4201002: 3},
    60: {4201002: 1, 4001003: 2},
    61: {4200001: 3},
    62: {4200001: 3},
    63: {4200001: 3},
    64: {4200001: 3},
    65: {4200001: 3},
    66: {4200001: 3},
    67: {4200001: 2, 4201004: 1},
    68: {4201004: 3},
    69: {4201004: 3},
    70: {4201004: 3},
}


_stats_changes = adict({
    1: {'set': {'str': 13, 'dex': 4, 'int': 4, 'luk': 4, 'hp': 30000, 'mp': 30000, 'fame': 30000}},
    2: {'add': {'str': 5}},
    3: {'add': {'str': 5}},
    4: {'add': {'str': 5}},
    5: {'add': {'str': 5}},
    6: {'add': {'str': 5}},
    7: {'add': {'str': 5}},
    8: {'add': {'str': 5}},
    9: {'add': {'str': 5}},
    10: {'set': {'str': 4, 'int': 4, 'dex': 25, 'luk': 37}},
    11: {'add': {'luk': 5}},
    12: {'add': {'luk': 5}},
    13: {'add': {'dex': 1, 'luk': 4}},
    17: {'add': {'dex': 3, 'luk': 2}},
    18: {'add': {'dex': 1, 'luk': 4}},
    27: {'add': {'dex': 3, 'luk': 2}},
    28: {'add': {'dex': 1, 'luk': 4}},
    'default': {'add': {'dex': 2, 'luk': 3}}
})


def get_stats_change(level):
    return copy_adict(_stats_changes.get(level) or _stats_changes.default)


keymap_changes = {
    1:  {29: 13317},       # attack
    10: {29: 1024341505},  # double stab
    40: {29: 1075457281},  # savage blow
}
